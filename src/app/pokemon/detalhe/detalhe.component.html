<div *ngIf="!loading" class="detalhe_main" fxLayout="column wrap" fxLayoutAlign="start stretch" fxLayoutGap="10px">

  <div class="detalhe_voltar" fxFlex="grow" fxLayoutAlign="start stretch">
    <button class="btn_detalhe_voltar" routerLink="['pokemon']">
      <!-- <mat-icon>arrow_back</mat-icon> -->
      <svg enable-background="new 0 0 96 96" height="96px" id="arrow_left" version="1.1" viewBox="0 0 96 96"
        width="96px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M84,44H21.656l21.456-21.456c1.562-1.562,1.562-4.095,0.001-5.657c-1.562-1.562-4.096-1.562-5.658,0L9.172,45.171l0,0  c-0.186,0.186-0.352,0.391-0.498,0.61c-0.067,0.101-0.114,0.21-0.171,0.315c-0.067,0.124-0.142,0.242-0.196,0.373  c-0.056,0.135-0.088,0.276-0.129,0.416c-0.032,0.111-0.075,0.217-0.098,0.331C8.028,47.475,8,47.737,8,48l0,0  c0,0.003,0.001,0.005,0.001,0.008c0,0.259,0.027,0.519,0.078,0.774c0.024,0.121,0.069,0.232,0.104,0.349  c0.039,0.133,0.07,0.268,0.123,0.397c0.058,0.139,0.136,0.265,0.208,0.396c0.054,0.098,0.096,0.198,0.159,0.292  c0.147,0.221,0.314,0.427,0.501,0.614l28.282,28.281c1.562,1.562,4.095,1.562,5.657,0.001c1.562-1.562,1.562-4.096,0-5.658  L21.657,52H84c2.209,0,4-1.791,4-4S86.209,44,84,44z" />
      </svg>
      Voltar
    </button>
  </div>

  <div class="detalhe_conteudo" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center stretch" fxLayoutGap="20px">

    <div class="detalhe_conteudo_item" fxFlex="50" fxLayout="column" fxLayoutGap="10px">

      <app-card>
        <div fxLayout="row" fxLayoutAlign="space-between center">
          <div fxLayout="row" fxLayoutAlign="left center" fxLayoutGap="10px">
            <div>
              <h3 class="text-uppercase detalhe_card_id">#{{ pokemonDetalhe?.id }}</h3>
            </div>
            <div>
              <h1 class="text-uppercase">{{ pokemonDetalhe?.nome }}</h1>
              <h2 class="text-uppercase">{{ pokemonDetalhe?.nomeJP }}</h2>
            </div>
          </div>
          <div>
            <img *ngFor="let tipo of pokemonDetalhe?.tipo" class="detalhe_icon_tipo"
              src="../../../../../assets/types/{{ tipo.type.name }}.png" alt="" />
          </div>
        </div>
      </app-card>

      <app-card>
        <div fxLayout="row" fxLayoutAlign="center center">
          <img mat-card-image class="card_image_detalhe" [src]="pokemonDetalhe?.images" />
        </div>
      </app-card>

      <app-card>
        <div fxLayout="row wrap" fxLayoutAlign="center center">
          <div class="detalhe_hp detalhe_habilidades">
            <span class="detalhe_habilidades_title">HP</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.hp }}</span>
          </div>
          <div class="detalhe_atk detalhe_habilidades">
            <span class="detalhe_habilidades_title">Atk</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.attack }}</span>
          </div>
          <div class="detalhe_def detalhe_habilidades">
            <span class="detalhe_habilidades_title">Def</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.defense }}</span>
          </div>
          <div class="detalhe_spA detalhe_habilidades">
            <span class="detalhe_habilidades_title">SpA</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.specialAttack }}</span>
          </div>
          <div class="detalhe_spD detalhe_habilidades">
            <span class="detalhe_habilidades_title">SpD</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.specialDefense }}</span>
          </div>
          <div class="detalhe_sPD detalhe_habilidades">
            <span class="detalhe_habilidades_title">SPD</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.speed }}</span>
          </div>
        </div>
      </app-card>

      <app-card class="detalhe_card">
        <div style="display: block">
          <canvas baseChart [datasets]="radarChartData" [options]="radarChartOptions" [labels]="radarChartLabels"
            [chartType]="radarChartType" [legend]="false" [colors]="lineChartColors">
          </canvas>
        </div>
      </app-card>

    </div>

    <div class="detalhe_conteudo_item" fxFlex="50" fxLayout="column" fxLayoutGap="10px">

      <app-card>
        <app-card-titulo>Informações principais</app-card-titulo>
        <div class="detalhe_card_item">
          <h2>Geração</h2>
          <p>Geração {{ pokemonDetalhe?.geracao }}</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Tipo(s)</h2>
          <div class="detalhe_card_tipos"><span *ngFor="let tipo of pokemonDetalhe?.tipo"
              class="detalhe_card_tipo_{{ tipo.type.name }}">{{
              tipo.type.name |
              tipos }}</span>
          </div>
        </div>
        <div class="detalhe_card_item">
          <h2>Habitat</h2>
          <p>{{ pokemonDetalhe?.habitat | habitat }}</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Altura</h2>
          <p>{{ pokemonDetalhe?.altura }} m</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Peso</h2>
          <p>{{ pokemonDetalhe?.Peso | formatpeso }} kg</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Cor do Pokedex</h2>
          <p><span class="detalhe_color detalhe_color_{{pokemonDetalhe?.cor}}"></span></p>
        </div>
        <div class="detalhe_card_item">
          <h2>Taxa de Captura</h2>
          <!-- <progressbar class="detalhe_card_progressbar" [max]="255" [value]="pokemonDetalhe?.taxaCaptura" [type]="type"
            [striped]="true" [animate]="true">
            <i>{{ pokemonDetalhe?.taxaCaptura }} / 255</i>
          </progressbar> -->
          <app-progresso [total]='255' [ativaPorcetangem]='true' [progress]='pokemonDetalhe?.taxaCaptura'>
          </app-progresso>
          <p class="detalhe_card_desc">A taxa de captura básica; até 255. <br /> Quanto maior o número, mais fácil será
            a
            captura.</p>
        </div>
      </app-card>

      <app-card>
        <app-card-titulo>Informações complementares</app-card-titulo>
        <div class="detalhe_card_item">
          <h2>Experiência ao Derrotar</h2>
          <!-- <progressbar class="detalhe_card_progressbar" [max]="400" [value]="pokemonDetalhe?.experiencia" [type]="type"
            [striped]="true" [animate]="true">
            <i>{{ pokemonDetalhe?.experiencia }} / 400</i>
          </progressbar> -->
          <app-progresso [total]='400' [ativaPorcetangem]='false' [progress]='pokemonDetalhe?.experiencia'>
          </app-progresso>
          <p class="detalhe_card_desc">A experiência básica obtida ao derrotar este Pokémon.
          </p>
        </div>

      </app-card>

      <app-card>
        <app-card-titulo>Habilidade(s)</app-card-titulo>
        <div class="detalhe_card_item">
          <h2 *ngFor="let habilidade of pokemonDetalhe?.habilidades">{{ habilidade.ability?.name
            }} </h2>
        </div>
      </app-card>

    </div>
  </div>
</div>

<div class="detalhe_loading" fxLayout="column wrap" fxLayoutAlign="center center" fxLayoutGap="10px">
  <mat-spinner *ngIf="loading" mode="indeterminate"></mat-spinner>
</div>
