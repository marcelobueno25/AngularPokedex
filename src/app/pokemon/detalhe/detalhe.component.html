<div *ngIf="!loading" class="detalhe_main" fxLayout="column wrap" fxLayoutAlign="start stretch" fxLayoutGap="10px">

  <div class="detalhe_voltar" fxFlex="grow" fxLayoutAlign="start stretch">
    <button class="btn_detalhe_voltar" routerLink="['pokemon']">
      <mat-icon>arrow_back</mat-icon>
      Voltar
    </button>
  </div>

  <div class="detalhe_conteudo" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center stretch" fxLayoutGap="20px">

    <div class="detalhe_conteudo_item" fxFlex="50" fxLayout="column" fxLayoutGap="10px">

      <app-card>
        <div fxLayout="row" fxLayoutAlign="space-between center">
          <div fxLayout="row" fxLayoutAlign="left center" fxLayoutGap="10px">
            <div>
              <h2 class="text-uppercase detalhe_card_id">#{{ pokemonDetalhe?.id }}</h2>
            </div>
            <div>
              <h1 class="text-uppercase">{{ pokemonDetalhe?.nome }}</h1>
              <h2 class="text-uppercase">{{ pokemonDetalhe?.nomeJP }}</h2>
            </div>
          </div>
          <div>
            <img *ngFor="let tipo of pokemonDetalhe?.tipo" class="detalhe_icon_tipo"
              src="../../../../../assets/types/{{ tipo.type.name }}.png" alt="" />
          </div>
        </div>
      </app-card>

      <app-card>
        <div fxLayout="row" fxLayoutAlign="center center">
          <img mat-card-image class="card_image_detalhe" [src]="pokemonDetalhe?.images" />
        </div>
      </app-card>

      <app-card>
        <div fxLayout="row wrap" fxLayoutAlign="center center">
          <div class="detalhe_hp detalhe_habilidades">
            <span class="detalhe_habilidades_title">HP</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.hp }}</span>
          </div>
          <div class="detalhe_atk detalhe_habilidades">
            <span class="detalhe_habilidades_title">Atk</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.attack }}</span>
          </div>
          <div class="detalhe_def detalhe_habilidades">
            <span class="detalhe_habilidades_title">Def</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.defense }}</span>
          </div>
          <div class="detalhe_spA detalhe_habilidades">
            <span class="detalhe_habilidades_title">SpA</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.specialAttack }}</span>
          </div>
          <div class="detalhe_spD detalhe_habilidades">
            <span class="detalhe_habilidades_title">SpD</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.specialDefense }}</span>
          </div>
          <div class="detalhe_sPD detalhe_habilidades">
            <span class="detalhe_habilidades_title">SPD</span>
            <span class="detalhe_habilidades_result">{{ pokemonDetalhe?.atributos.speed }}</span>
          </div>
        </div>
      </app-card>

      <app-card class="detalhe_card">
        <div style="display: block">
          <canvas baseChart [datasets]="radarChartData" [options]="radarChartOptions" [labels]="radarChartLabels"
            [chartType]="radarChartType" [legend]="false" [colors]="lineChartColors">
          </canvas>
        </div>
      </app-card>

    </div>

    <div class="detalhe_conteudo_item" fxFlex="50" fxLayout="column" fxLayoutGap="10px">

      <app-card>
        <app-card-titulo>Informações principais</app-card-titulo>
        <div class="detalhe_card_item">
          <h2>Geração</h2>
          <p>Geração {{ pokemonDetalhe?.geracao }}</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Tipo(s)</h2>
          <div class="detalhe_card_tipos"><span *ngFor="let tipo of pokemonDetalhe?.tipo"
              class="detalhe_card_tipo_{{ tipo.type.name }}">{{
              tipo.type.name |
              tipos }}</span>
          </div>
        </div>
        <div class="detalhe_card_item">
          <h2>Habitat</h2>
          <p>{{ pokemonDetalhe?.habitat | habitat }}</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Altura</h2>
          <p>{{ pokemonDetalhe?.altura }} m</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Peso</h2>
          <p>{{ pokemonDetalhe?.Peso | formatpeso }} kg</p>
        </div>
        <div class="detalhe_card_item">
          <h2>Cor do Pokedex</h2>
          <p><span class="detalhe_color detalhe_color_{{pokemonDetalhe?.cor}}"></span></p>
        </div>
        <div class="detalhe_card_item">
          <h2>Taxa de Captura</h2>
          <!-- <progressbar class="detalhe_card_progressbar" [max]="255" [value]="pokemonDetalhe?.taxaCaptura" [type]="type"
            [striped]="true" [animate]="true">
            <i>{{ pokemonDetalhe?.taxaCaptura }} / 255</i>
          </progressbar> -->
          <app-progresso [total]='255' [ativaPorcetangem]='true' [progress]='pokemonDetalhe?.taxaCaptura'>
          </app-progresso>
          <p class="detalhe_card_desc">A taxa de captura básica; até 255. <br /> Quanto maior o número, mais fácil será
            a
            captura.</p>
        </div>
      </app-card>

      <app-card>
        <app-card-titulo>Informações complementares</app-card-titulo>
        <div class="detalhe_card_item">
          <h2>Experiência ao Derrotar</h2>
          <!-- <progressbar class="detalhe_card_progressbar" [max]="400" [value]="pokemonDetalhe?.experiencia" [type]="type"
            [striped]="true" [animate]="true">
            <i>{{ pokemonDetalhe?.experiencia }} / 400</i>
          </progressbar> -->
          <app-progresso [total]='400' [ativaPorcetangem]='false' [progress]='pokemonDetalhe?.experiencia'>
          </app-progresso>
          <p class="detalhe_card_desc">A experiência básica obtida ao derrotar este Pokémon.
          </p>
        </div>

      </app-card>

      <app-card>
        <app-card-titulo>Habilidade(s)</app-card-titulo>
        <div class="detalhe_card_item">
          <h2 *ngFor="let habilidade of pokemonDetalhe?.habilidades">{{ habilidade.ability?.name
            }} </h2>
        </div>
      </app-card>

    </div>
  </div>
</div>

<div class="detalhe_loading" fxLayout="column wrap" fxLayoutAlign="center center" fxLayoutGap="10px">
  <mat-spinner *ngIf="loading" mode="indeterminate"></mat-spinner>
</div>
